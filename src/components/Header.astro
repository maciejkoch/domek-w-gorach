<header class="header">
  <div class="container header__container">
    <div class="logo">
      <a class="link" href="./index.html">
        <img
          src="./images/logo-x1.png"
          alt="brand logo"
          width="199"
          height="50"
        />
      </a>
    </div>
    <nav class="navigation">
      <ul class="navigation__list">
        <li class="navigation__item">Poznaj nas</li>
        <li class="navigation__item">Oferta</li>
        <li class="navigation__item">Galeria</li>
        <li class="navigation__item">Atrakcje w pobliżu</li>
        <li class="navigation__item">Kontakt</li>
      </ul>
    </nav>
    <div class="header__mobile-switch">
      <button
        class="mobile-menu-burger js-open-menu"
        aria-expanded="false"
        aria-controls="mobile-menu"
        ><p>=</p>
        <svg width="20" height="12">
          <use href="./images/icons.svg#icon-mobile-menu"></use>
        </svg>
      </button>
    </div>
  </div>

  <div class="menu-container js-menu-container" id="mobile-menu">
    <button class="mobile-menu-closing-icon js-close-menu">
      <p>X</p>
      <svg width="14" height="14">
        <use href="./images-and-icons/#icon-close_40px"></use>
      </svg>
    </button>

    <ul class="mobile-menu">
      <li class="mobile-menu__item">
        <a
          class="mobile-menu__link mobile-menu__link--active js-close-menu"
          href="#hero">Poznaj nas</a
        >
      </li>
      <li class="mobile-menu__item">
        <a
          class="mobile-menu__link mobile-menu__link--active js-close-menu"
          href="#hero">Oferta</a
        >
      </li>
      <li class="mobile-menu__item">
        <a
          class="mobile-menu__link mobile-menu__link--active js-close-menu"
          href="#hero">Galeria</a
        >
      </li>
      <li class="mobile-menu__item">
        <a
          class="mobile-menu__link mobile-menu__link--active js-close-menu"
          href="#hero">Atrakcje w pobliżu</a
        >
      </li>
      <li class="mobile-menu__item">
        <a
          class="mobile-menu__link mobile-menu__link--active js-close-menu"
          href="#hero">Kontakt</a
        >
      </li>
    </ul>
  </div>
</header>

<style lang="scss">
  @import "../styles/breakpoints.scss";

  .header {
    &__container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      background-color: var(--color-primary-light);
    }
  }

  .navigation {
    width: 100%;
    display: none;

    @include device(desktop) {
      display: flex;

      &__list {
        list-style: none;
        width: 100%;
        display: flex;
      }
      &__item {
        padding: 0 25px;
        color: var(--dark-background-color);
      }
    }
  }

  .mobile-menu-burger {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    cursor: pointer;
    border: none;
    outline: none;
    transition: fill 250ms cubic-bezier(0.4, 0, 0.2, 1);

    @include device(desktop) {
      display: none;
    }
  }

  .mobile-menu-closing-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    cursor: pointer;
    border: none;
    outline: none;
    // fill: black;
    // width: 14px;
    // height: 14px;

    @include device(desktop) {
      display: none;
    }
  }

  .menu-container {
    background-color: var(--dark-background-color);
    position: fixed;
    top: 0;
    right: 0;
    width: 100vw;
    height: 100vh;
    transform: translateX(100%);
    transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1),
      fill 250ms cubic-bezier(0.4, 0, 0.2, 1);

    &.is-open {
      transform: translateX(0);
    }

    & .mobile-menu-closing-icon {
      position: absolute;
      top: 23px;
      right: 32px;
      background-color: transparent;
      stroke: var(--color-primary-light);
    }

    @include device(tablet) {
      width: 254px;
    }

    @include device(desktop) {
      display: none;
    }
  }

  .mobile-menu {
    padding: 80px 0px 0px 20px;

    &__item {
      padding-bottom: 10px;
    }

    &__link {
      color: var(--light-font-color);
      font-size: 24px;
      text-decoration: none;
      transform: none;
      transition: transform 1s cubic-bezier(0.165, 0.84, 0.44, 1) 0.5s;
    }
  }
</style>

<script>
  (() => {
    const mobileMenu = document.querySelector(".js-menu-container");
    const openMenuBtn = document.querySelector(".js-open-menu");
    const closeMenuBtn = document.querySelectorAll(".js-close-menu");

    const toggleMenu = () => {
      const isMenuOpen =
        openMenuBtn?.getAttribute("aria-expanded") === "true" || false;
      openMenuBtn?.setAttribute("aria-expanded", `${!isMenuOpen}`);
      mobileMenu?.classList.toggle("is-open");
    };

    openMenuBtn?.addEventListener("click", toggleMenu);
    closeMenuBtn.forEach((btn) => btn.addEventListener("click", toggleMenu));
  })();
</script>
